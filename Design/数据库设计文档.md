# æ•°æ®åº“è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°æç¤ºè¯ç”Ÿæˆç³»ç»Ÿçš„æ•°æ®åº“è®¾è®¡ã€‚ç³»ç»Ÿé‡‡ç”¨ **MySQL + SQLite** åŒæ•°æ®åº“æ¶æ„:

- **MySQL**: ç”Ÿäº§ç¯å¢ƒä¸»æ•°æ®åº“
- **SQLite**: å¼€å‘/æµ‹è¯•ç¯å¢ƒè½»é‡æ•°æ®åº“

---

## æ•°æ®åº“æ¶æ„å›¾

```mermaid
erDiagram
    categories ||--o{ products : contains
    prompt_templates ||--o{ template_tags : has
    tags ||--o{ template_tags : belongs_to
    prompt_usage_logs ||--o{ review_records : triggers
    
    categories {
        int id PK
        varchar category_key UK
        varchar name
        varchar icon
        int sort_order
        datetime created_at
        datetime updated_at
    }
    
    products {
        int id PK
        int category_id FK
        varchar name
        varchar url
        text recommend_reason
        varchar price
        int sort_order
        datetime created_at
        datetime updated_at
    }
    
    product_tags {
        int id PK
        int product_id FK
        varchar tag_name
    }
    
    prompt_templates {
        int id PK
        varchar title
        text content
        varchar template_type
        boolean is_system
        int usage_count
        datetime created_at
        datetime updated_at
    }
    
    tags {
        int id PK
        varchar name UK
        datetime created_at
    }
    
    template_tags {
        int id PK
        int template_id FK
        int tag_id FK
    }
    
    prompt_usage_logs {
        int id PK
        varchar prompt_type
        text generated_prompt
        text form_data
        datetime created_at
    }
    
    review_records {
        int id PK
        int usage_log_id FK
        text expected_effect
        text evaluation_method
        text error_handling
        text adjustment_notes
        text prompt_reasoning
        datetime created_at
    }
```

---

## æ•°æ®è¡¨è®¾è®¡

### 1. äº§å“åˆ†ç±»è¡¨ (categories)

å­˜å‚¨é¦–é¡µå¯¼èˆªåŒºçš„äº§å“åˆ†ç±»ä¿¡æ¯ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| category_key | VARCHAR(50) | UNIQUE, NOT NULL | åˆ†ç±»æ ‡è¯†ç¬¦ï¼ˆå¦‚ chat, coding, imageï¼‰ |
| name | VARCHAR(100) | NOT NULL | åˆ†ç±»åç§°ï¼ˆå¦‚ å¯¹è¯ã€ç¼–ç¨‹ã€å›¾åƒï¼‰ |
| icon | VARCHAR(10) | NULL | åˆ†ç±»å›¾æ ‡ï¼ˆemojiï¼‰ |
| sort_order | INT | DEFAULT 0 | æ’åºé¡ºåº |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | ON UPDATE CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:

- `idx_category_key` (category_key)
- `idx_sort_order` (sort_order)

---

### 2. äº§å“è¡¨ (products)

å­˜å‚¨å„åˆ†ç±»ä¸‹çš„ AI äº§å“ä¿¡æ¯ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| category_id | INT | FOREIGN KEY, NOT NULL | æ‰€å±åˆ†ç±» ID |
| name | VARCHAR(100) | NOT NULL | äº§å“åç§° |
| url | VARCHAR(500) | NOT NULL | äº§å“é“¾æ¥ |
| recommend_reason | TEXT | NULL | æ¨èç†ç”± |
| price | VARCHAR(100) | NULL | ä»·æ ¼ä¿¡æ¯ |
| sort_order | INT | DEFAULT 0 | æ’åºé¡ºåº |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | ON UPDATE CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:

- `idx_category_id` (category_id)
- `idx_name` (name)

**å¤–é”®çº¦æŸ**:

- `fk_products_category` REFERENCES categories(id) ON DELETE CASCADE

---

### 3. äº§å“æ ‡ç­¾è¡¨ (product_tags)

å­˜å‚¨äº§å“çš„æ ‡ç­¾ï¼Œç”¨äºæœç´¢å’Œç­›é€‰ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| product_id | INT | FOREIGN KEY, NOT NULL | äº§å“ ID |
| tag_name | VARCHAR(50) | NOT NULL | æ ‡ç­¾åç§° |

**ç´¢å¼•**:

- `idx_product_id` (product_id)
- `idx_tag_name` (tag_name)

**å¤–é”®çº¦æŸ**:

- `fk_product_tags_product` REFERENCES products(id) ON DELETE CASCADE

---

### 4. æç¤ºè¯æ¨¡æ¿è¡¨ (prompt_templates)

å­˜å‚¨å¯å¤ç”¨çš„æç¤ºè¯æ¨¡æ¿ï¼ˆé¡µé¢3ï¼šæç¤ºè¯æ¨¡ç‰ˆï¼‰ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| title | VARCHAR(200) | NOT NULL | æ¨¡æ¿æ ‡é¢˜ |
| content | TEXT | NOT NULL | æ¨¡æ¿å†…å®¹ |
| template_type | VARCHAR(50) | NOT NULL | æ¨¡æ¿ç±»å‹ï¼ˆminimal_formula / complex_8stepï¼‰ |
| is_system | BOOLEAN | DEFAULT FALSE | æ˜¯å¦ç³»ç»Ÿé¢„è®¾æ¨¡æ¿ |
| usage_count | INT | DEFAULT 0 | ä½¿ç”¨æ¬¡æ•°ç»Ÿè®¡ |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | ON UPDATE CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:

- `idx_template_type` (template_type)
- `idx_title` (title)
- `idx_usage_count` (usage_count)

**å…¨æ–‡ç´¢å¼•**:

- `ft_content` FULLTEXT (title, content) - æ”¯æŒå…³é”®è¯æœç´¢

---

### 5. æ ‡ç­¾è¡¨ (tags)

å­˜å‚¨æ¨¡æ¿æ ‡ç­¾çš„ä¸»è¡¨ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| name | VARCHAR(50) | UNIQUE, NOT NULL | æ ‡ç­¾åç§° |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**:

- `idx_tag_name` (name)

---

### 6. æ¨¡æ¿æ ‡ç­¾å…³è”è¡¨ (template_tags)

æ¨¡æ¿ä¸æ ‡ç­¾çš„å¤šå¯¹å¤šå…³è”è¡¨ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| template_id | INT | FOREIGN KEY, NOT NULL | æ¨¡æ¿ ID |
| tag_id | INT | FOREIGN KEY, NOT NULL | æ ‡ç­¾ ID |

**ç´¢å¼•**:

- `idx_template_id` (template_id)
- `idx_tag_id` (tag_id)
- `uk_template_tag` UNIQUE (template_id, tag_id)

**å¤–é”®çº¦æŸ**:

- `fk_template_tags_template` REFERENCES prompt_templates(id) ON DELETE CASCADE
- `fk_template_tags_tag` REFERENCES tags(id) ON DELETE CASCADE

---

### 7. æç¤ºè¯ä½¿ç”¨æ—¥å¿—è¡¨ (prompt_usage_logs)

è®°å½•ç”¨æˆ·ç”Ÿæˆæç¤ºè¯çš„æ—¥å¿—ï¼ˆç”¨äºæ•°æ®åˆ†æå’Œå¤ç›˜ï¼‰ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| prompt_type | VARCHAR(50) | NOT NULL | æç¤ºè¯ç±»å‹ï¼ˆminimal_formula / complex_8stepï¼‰ |
| generated_prompt | TEXT | NOT NULL | ç”Ÿæˆçš„å®Œæ•´æç¤ºè¯ |
| form_data | JSON | NULL | è¡¨å•å¡«å†™æ•°æ®ï¼ˆJSON æ ¼å¼å­˜å‚¨ï¼‰ |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**:

- `idx_prompt_type` (prompt_type)
- `idx_created_at` (created_at)

---

### 8. å¤ç›˜è®°å½•è¡¨ (review_records)

å­˜å‚¨æç¤ºè¯å¤åˆ¶åçš„å¤ç›˜æ£€æŸ¥æ¸…å•ï¼ˆå…¨å±€åŠŸèƒ½ï¼‰ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| usage_log_id | INT | FOREIGN KEY, NULL | å…³è”çš„ä½¿ç”¨æ—¥å¿— ID |
| expected_effect | TEXT | NULL | 1. é¢„æœŸè¾¾åˆ°çš„æ•ˆæœ |
| evaluation_method | TEXT | NULL | 2. å¦‚ä½•è¯„ä»·ï¼ˆéªŒè¯ï¼‰è¿™æ¬¡ç”Ÿæˆçš„ç»“æœ |
| error_handling | TEXT | NULL | 3. æ˜¯å¦æœ‰æ˜æ˜¾é”™è¯¯ç­”æ¡ˆï¼Ÿä½ æ€ä¹ˆå¤„ç†çš„ï¼Ÿ |
| adjustment_notes | TEXT | NULL | 4. ç”Ÿæˆçš„å†…å®¹å’Œä½ çš„é¢„æœŸä¸ç¬¦ï¼Œæˆ‘æ˜¯å¦‚ä½•è°ƒæ•´ä¼˜åŒ–çš„ï¼Ÿ |
| prompt_reasoning | TEXT | NULL | 5. æˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™æç¤ºè¯ï¼Ÿ |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**:

- `idx_usage_log_id` (usage_log_id)
- `idx_created_at` (created_at)

**å¤–é”®çº¦æŸ**:

- `fk_review_usage_log` REFERENCES prompt_usage_logs(id) ON DELETE SET NULL

---

### 9. æç¤ºè¯æŠ€å·§è¡¨ (prompt_tips)

å­˜å‚¨é¡µé¢å¸¸é©»çš„æç¤ºè¯æŠ€å·§å†…å®¹ã€‚

| å­—æ®µå | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|--------|------|------|------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | ä¸»é”® |
| title | VARCHAR(200) | NOT NULL | æŠ€å·§æ ‡é¢˜ |
| content | TEXT | NOT NULL | æŠ€å·§å†…å®¹ |
| sort_order | INT | DEFAULT 0 | æ’åºé¡ºåº |
| is_active | BOOLEAN | DEFAULT TRUE | æ˜¯å¦å¯ç”¨ |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | ON UPDATE CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**:

- `idx_is_active` (is_active)
- `idx_sort_order` (sort_order)

---

## åˆå§‹æ•°æ®

### åˆ†ç±»åˆå§‹æ•°æ®

```sql
INSERT INTO categories (category_key, name, icon, sort_order) VALUES
('chat', 'å¯¹è¯', 'ğŸ’¬', 1),
('coding', 'ç¼–ç¨‹', 'ğŸ’»', 2),
('image', 'å›¾åƒ', 'ğŸ¨', 3),
('knowledge', 'æ•ˆç‡ä¸çŸ¥è¯†åº“', 'ğŸ“š', 4),
('agent', 'æ™ºèƒ½ä½“', 'ğŸ¤–', 5);
```

### æ¨¡æ¿ç±»å‹æšä¸¾

| ç±»å‹å€¼ | è¯´æ˜ |
|--------|------|
| minimal_formula | æœ€å°å…¬å¼æ¨¡æ¿ï¼ˆé¡µé¢2ï¼‰ |
| complex_8step | å¤æ‚ä»»åŠ¡8æ­¥æ³•æ¨¡æ¿ï¼ˆé¡µé¢4ï¼‰ |
| custom | ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿ |

---

## SQL å»ºè¡¨è¯­å¥

### MySQL ç‰ˆæœ¬

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS prompt_strategy 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

USE prompt_strategy;

-- åˆ†ç±»è¡¨
CREATE TABLE categories (
    id INT AUTO_INCREMENT PRIMARY KEY,
    category_key VARCHAR(50) NOT NULL UNIQUE,
    name VARCHAR(100) NOT NULL,
    icon VARCHAR(10),
    sort_order INT DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_category_key (category_key),
    INDEX idx_sort_order (sort_order)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- äº§å“è¡¨
CREATE TABLE products (
    id INT AUTO_INCREMENT PRIMARY KEY,
    category_id INT NOT NULL,
    name VARCHAR(100) NOT NULL,
    url VARCHAR(500) NOT NULL,
    recommend_reason TEXT,
    price VARCHAR(100),
    sort_order INT DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_category_id (category_id),
    INDEX idx_name (name),
    CONSTRAINT fk_products_category FOREIGN KEY (category_id) 
        REFERENCES categories(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- äº§å“æ ‡ç­¾è¡¨
CREATE TABLE product_tags (
    id INT AUTO_INCREMENT PRIMARY KEY,
    product_id INT NOT NULL,
    tag_name VARCHAR(50) NOT NULL,
    INDEX idx_product_id (product_id),
    INDEX idx_tag_name (tag_name),
    CONSTRAINT fk_product_tags_product FOREIGN KEY (product_id) 
        REFERENCES products(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- æç¤ºè¯æ¨¡æ¿è¡¨
CREATE TABLE prompt_templates (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    template_type VARCHAR(50) NOT NULL,
    is_system BOOLEAN DEFAULT FALSE,
    usage_count INT DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_template_type (template_type),
    INDEX idx_title (title),
    INDEX idx_usage_count (usage_count),
    FULLTEXT ft_content (title, content)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- æ ‡ç­¾è¡¨
CREATE TABLE tags (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) NOT NULL UNIQUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_tag_name (name)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- æ¨¡æ¿æ ‡ç­¾å…³è”è¡¨
CREATE TABLE template_tags (
    id INT AUTO_INCREMENT PRIMARY KEY,
    template_id INT NOT NULL,
    tag_id INT NOT NULL,
    INDEX idx_template_id (template_id),
    INDEX idx_tag_id (tag_id),
    UNIQUE KEY uk_template_tag (template_id, tag_id),
    CONSTRAINT fk_template_tags_template FOREIGN KEY (template_id) 
        REFERENCES prompt_templates(id) ON DELETE CASCADE,
    CONSTRAINT fk_template_tags_tag FOREIGN KEY (tag_id) 
        REFERENCES tags(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- æç¤ºè¯ä½¿ç”¨æ—¥å¿—è¡¨
CREATE TABLE prompt_usage_logs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    prompt_type VARCHAR(50) NOT NULL,
    generated_prompt TEXT NOT NULL,
    form_data JSON,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_prompt_type (prompt_type),
    INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- å¤ç›˜è®°å½•è¡¨
CREATE TABLE review_records (
    id INT AUTO_INCREMENT PRIMARY KEY,
    usage_log_id INT,
    expected_effect TEXT,
    evaluation_method TEXT,
    error_handling TEXT,
    adjustment_notes TEXT,
    prompt_reasoning TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_usage_log_id (usage_log_id),
    INDEX idx_created_at (created_at),
    CONSTRAINT fk_review_usage_log FOREIGN KEY (usage_log_id) 
        REFERENCES prompt_usage_logs(id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- æç¤ºè¯æŠ€å·§è¡¨
CREATE TABLE prompt_tips (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    sort_order INT DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_is_active (is_active),
    INDEX idx_sort_order (sort_order)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

### SQLite ç‰ˆæœ¬

```sql
-- åˆ†ç±»è¡¨
CREATE TABLE categories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category_key TEXT NOT NULL UNIQUE,
    name TEXT NOT NULL,
    icon TEXT,
    sort_order INTEGER DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME
);

-- äº§å“è¡¨
CREATE TABLE products (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category_id INTEGER NOT NULL,
    name TEXT NOT NULL,
    url TEXT NOT NULL,
    recommend_reason TEXT,
    price TEXT,
    sort_order INTEGER DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME,
    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE
);

-- äº§å“æ ‡ç­¾è¡¨
CREATE TABLE product_tags (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    product_id INTEGER NOT NULL,
    tag_name TEXT NOT NULL,
    FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE
);

-- æç¤ºè¯æ¨¡æ¿è¡¨
CREATE TABLE prompt_templates (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    content TEXT NOT NULL,
    template_type TEXT NOT NULL,
    is_system INTEGER DEFAULT 0,
    usage_count INTEGER DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME
);

-- æ ‡ç­¾è¡¨
CREATE TABLE tags (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL UNIQUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- æ¨¡æ¿æ ‡ç­¾å…³è”è¡¨
CREATE TABLE template_tags (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    template_id INTEGER NOT NULL,
    tag_id INTEGER NOT NULL,
    UNIQUE(template_id, tag_id),
    FOREIGN KEY (template_id) REFERENCES prompt_templates(id) ON DELETE CASCADE,
    FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
);

-- æç¤ºè¯ä½¿ç”¨æ—¥å¿—è¡¨
CREATE TABLE prompt_usage_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    prompt_type TEXT NOT NULL,
    generated_prompt TEXT NOT NULL,
    form_data TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- å¤ç›˜è®°å½•è¡¨
CREATE TABLE review_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    usage_log_id INTEGER,
    expected_effect TEXT,
    evaluation_method TEXT,
    error_handling TEXT,
    adjustment_notes TEXT,
    prompt_reasoning TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (usage_log_id) REFERENCES prompt_usage_logs(id) ON DELETE SET NULL
);

-- æç¤ºè¯æŠ€å·§è¡¨
CREATE TABLE prompt_tips (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    content TEXT NOT NULL,
    sort_order INTEGER DEFAULT 0,
    is_active INTEGER DEFAULT 1,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME
);
```

---

## è¡¨ä¸åŠŸèƒ½æ˜ å°„

| é¡µé¢/åŠŸèƒ½ | ç›¸å…³æ•°æ®è¡¨ |
|-----------|-----------|
| é¦–é¡µå¯¼èˆªåŒº | categories, products, product_tags |
| æœ€å°å…¬å¼ï¼ˆé¡µé¢2ï¼‰ | prompt_templates, prompt_usage_logs |
| æç¤ºè¯æ¨¡ç‰ˆï¼ˆé¡µé¢3ï¼‰ | prompt_templates, tags, template_tags |
| å¤æ‚æç¤ºè¯ï¼ˆé¡µé¢4ï¼‰ | prompt_templates, prompt_usage_logs |
| æç¤ºè¯æŠ€å·§ï¼ˆå…¨å±€ï¼‰ | prompt_tips |
| å¤ç›˜æ£€æŸ¥æ¸…å•ï¼ˆå…¨å±€ï¼‰ | review_records, prompt_usage_logs |

---

## è®¾è®¡è¯´æ˜

### 1. åŒæ•°æ®åº“ç­–ç•¥

- **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨ SQLiteï¼Œæ— éœ€é¢å¤–é…ç½®æ•°æ®åº“æœåŠ¡
- **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨ MySQLï¼Œä¿è¯æ€§èƒ½å’Œæ•°æ®å®Œæ•´æ€§
- Flask é€šè¿‡ SQLAlchemy ORM å®ç°æ•°æ®åº“æ— å…³çš„ä»£ç ç¼–å†™

### 2. å…³é”®è®¾è®¡å†³ç­–

1. **JSON å­˜å‚¨è¡¨å•æ•°æ®**: `prompt_usage_logs.form_data` ä½¿ç”¨ JSON ç±»å‹å­˜å‚¨è¡¨å•æ•°æ®ï¼Œä¾¿äºçµæ´»æ‰©å±•
2. **å…¨æ–‡ç´¢å¼•**: åœ¨ `prompt_templates` è¡¨ä¸Šå»ºç«‹å…¨æ–‡ç´¢å¼•ï¼Œæ”¯æŒå…³é”®è¯æœç´¢åŠŸèƒ½
3. **è½¯åˆ é™¤**: æš‚æœªå®ç°ï¼Œåç»­å¯é€šè¿‡æ·»åŠ  `deleted_at` å­—æ®µæ‰©å±•
4. **ä½¿ç”¨ç»Ÿè®¡**: `usage_count` å­—æ®µç”¨äºæ¨¡æ¿çƒ­åº¦æ’åº

### 3. æ‰©å±•æ€§è€ƒè™‘

- æ ‡ç­¾ç³»ç»Ÿé‡‡ç”¨å¤šå¯¹å¤šè®¾è®¡ï¼Œæ”¯æŒçµæ´»çš„åˆ†ç±»å’Œæœç´¢
- äº§å“æ ‡ç­¾ç‹¬ç«‹å­˜å‚¨ï¼Œä¾¿äºé¦–é¡µäº§å“ç­›é€‰
- å¤ç›˜è®°å½•ä¸ä½¿ç”¨æ—¥å¿—åˆ†ç¦»ï¼Œæ”¯æŒç‹¬ç«‹ç®¡ç†
